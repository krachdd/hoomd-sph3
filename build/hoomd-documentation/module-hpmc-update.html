<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="hoomd.hpmc.pair" href="module-hpmc-pair.html" /><link rel="prev" title="hoomd.hpmc.tune" href="module-hpmc-tune.html" />

    <link rel="shortcut icon" href="_static/hoomdblue-logo-favicon.svg"/><!-- Generated with Sphinx 5.0.2 and Furo 2023.03.27 -->
        <title>hoomd.hpmc.update - HOOMD-blue 3.10.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f0f0f0;
  --color-code-foreground: black;
  --color-brand-primary: #406a8c;
  --color-brand-content: #406a8c;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #5187b2;
  --color-brand-content: #5187b2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #5187b2;
  --color-brand-content: #5187b2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">HOOMD-blue 3.10.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/hoomdblue-logo-vertical.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installing binaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="building.html">Building from source</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrating.html">Migrating to HOOMD v3</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing HOOMD-blue</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="tutorial/00-Introducing-HOOMD-blue/00-index.html">Introducing HOOMD-blue</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/00-Introducing-HOOMD-blue/01-The-Simulation-Object.html">The Simulation Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/00-Introducing-HOOMD-blue/02-Performing-Hard-Particle-Monte-Carlo-Simulations.html">Performing Hard Particle Monte Carlo Simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/00-Introducing-HOOMD-blue/03-Initializing-the-System-State.html">Initializing the System State</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/00-Introducing-HOOMD-blue/04-Randomizing-the-System.html">Randomizing the System</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/00-Introducing-HOOMD-blue/05-Compressing-the-System.html">Compressing the System</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/00-Introducing-HOOMD-blue/06-Equilibrating-the-System.html">Equilibrating the System</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/00-Introducing-HOOMD-blue/07-Analyzing-Trajectories.html">Analyzing Trajectories</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tutorial/01-Introducing-Molecular-Dynamics/00-index.html">Introducing Molecular Dynamics</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/01-Introducing-Molecular-Dynamics/01-Molecular-Dynamics-Simulations.html">Molecular Dynamics Simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/01-Introducing-Molecular-Dynamics/02-Initializing-a-Random-System.html">Initializing a Random System</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/01-Introducing-Molecular-Dynamics/03-Compressing-the-System.html">Compressing the System</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tutorial/02-Logging/00-index.html">Logging</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/02-Logging/01-Logging-to-a-GSD-file.html">Logging to a GSD file</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/02-Logging/02-Saving-Array-Quantities.html">Saving Array Quantities</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/02-Logging/03-Storing-Particle-Shape.html">Storing Particle Shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/02-Logging/04-Writing-Formatted-Output.html">Writing Formatted Output</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tutorial/03-Parallel-Simulations-With-MPI/00-index.html">Parallel Simulation With MPI</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/03-Parallel-Simulations-With-MPI/01-Introduction-to-MPI.html">Introduction to MPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/03-Parallel-Simulations-With-MPI/02-Domain-Decomposition.html">Domain Decomposition</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/03-Parallel-Simulations-With-MPI/03-Accessing-System-Configurations-With-MPI.html">Accessing System Configurations With MPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/03-Parallel-Simulations-With-MPI/04-Running-Multiple-Simulations-With-Partitions.html">Running Multiple Simulations With Partitions</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tutorial/04-Custom-Actions-In-Python/00-index.html">Custom Actions in Python</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/04-Custom-Actions-In-Python/01-What-are-Actions.html">What are Actions?</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/04-Custom-Actions-In-Python/02-An-Initial-Custom-Action.html">An Initial Custom Action</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/04-Custom-Actions-In-Python/03-Custom-Action-Features.html">Custom Action Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/04-Custom-Actions-In-Python/04-Custom-Updater.html">Custom Updater</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/04-Custom-Actions-In-Python/05-Custom-Writer.html">Custom Writer</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/04-Custom-Actions-In-Python/06-Improving-Performance.html">Improving Performance</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tutorial/05-Organizing-and-Executing-Simulations/00-index.html">Organizing and Executing Simulations</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/05-Organizing-and-Executing-Simulations/01-Organizing-Data.html">Organizing Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/05-Organizing-and-Executing-Simulations/02-Executing-Simulations.html">Executing Simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/05-Organizing-and-Executing-Simulations/03-Continuing-Simulations.html">Continuing Simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/05-Organizing-and-Executing-Simulations/04-Submitting-Cluster-Jobs.html">Submitting Cluster Jobs</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tutorial/06-Modelling-Rigid-Bodies/00-index.html">Modelling Rigid Bodies</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial/06-Modelling-Rigid-Bodies/01-Introduction-to-Rigid-Bodies.html">Introduction to Rigid Bodies</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/06-Modelling-Rigid-Bodies/02-Running-Rigid-Body-Simulations.html">Running Rigid Body Simulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/06-Modelling-Rigid-Bodies/03-Preparing-a-General-Body.html">Preparing a General Body</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How to guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="howto/molecular.html">How to model molecular systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto/cpppotential.html">How to apply arbitrary pair potentials in HPMC</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="package-hoomd.html">hoomd</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-box.html">hoomd.box</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-communicator.html">hoomd.communicator</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-custom.html">hoomd.custom</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="module-hoomd-data.html">hoomd.data</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="module-hoomd-array.html">hoomd.data.array</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-device.html">hoomd.device</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-error.html">hoomd.error</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-filter.html">hoomd.filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-logging.html">hoomd.logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-mesh.html">hoomd.mesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-operation.html">hoomd.operation</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-triggers.html">hoomd.trigger</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-tune.html">hoomd.tune</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-update.html">hoomd.update</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-variant.html">hoomd.variant</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-version.html">hoomd.version</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-wall.html">hoomd.wall</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-hoomd-write.html">hoomd.write</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="package-hpmc.html">hoomd.hpmc</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="module-hpmc-compute.html">hoomd.hpmc.compute</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-hpmc-integrate.html">hoomd.hpmc.integrate</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="module-hpmc-nec.html">hoomd.hpmc.nec</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="module-hpmc-nec-integrate.html">hoomd.hpmc.nec.integrate</a></li>
<li class="toctree-l3"><a class="reference internal" href="module-hpmc-nec-tune.html">hoomd.hpmc.nec.tune</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="module-hpmc-tune.html">hoomd.hpmc.tune</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">hoomd.hpmc.update</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="module-hpmc-pair.html">hoomd.hpmc.pair</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="module-hpmc-pair-user.html">hoomd.hpmc.pair.user</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="module-hpmc-external.html">hoomd.hpmc.external</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="module-hpmc-external-user.html">hoomd.hpmc.external.user</a></li>
<li class="toctree-l3"><a class="reference internal" href="module-hpmc-external-field.html">hoomd.hpmc.external.field</a></li>
<li class="toctree-l3"><a class="reference internal" href="module-hpmc-external-wall.html">hoomd.hpmc.external.wall</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="module-hpmc-shape_move.html">hoomd.hpmc.shape_move</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="package-md.html">hoomd.md</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="module-md-alchemy.html">md.alchemy</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="module-md-alchemy-pair.html">md.alchemy.pair</a></li>
<li class="toctree-l3"><a class="reference internal" href="module-md-alchemy-methods.html">md.alchemy.methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="module-md-angle.html">md.angle</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-md-bond.html">md.bond</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-md-constrain.html">md.constrain</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-md-compute.html">md.compute</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-md-data.html">md.data</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-md-dihedral.html">md.dihedral</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="module-md-external.html">md.external</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="module-md-external-field.html">md.external.field</a></li>
<li class="toctree-l3"><a class="reference internal" href="module-md-external-wall.html">md.external.wall</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="module-md-force.html">md.force</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-md-improper.html">md.improper</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="module-md-long_range.html">md.long_range</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="module-md-long_range-pppm.html">md.long_range.pppm</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="module-md-manifold.html">md.manifold</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-md-many_body.html">md.many_body</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="module-md-methods.html">md.methods</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="module-md-methods-rattle.html">md.methods.rattle</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="module-md-mesh.html">md.mesh</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="module-md-mesh-bond.html">md.mesh.bond</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="module-md-minimize.html">md.minimize</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-md-nlist.html">md.nlist</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="module-md-pair.html">md.pair</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="module-md-pair-aniso.html">md.pair.aniso</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="module-md-special_pair.html">md.special_pair</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-md-tune.html">md.tune</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-md-update.html">md.update</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="style.html">Code style</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="components.html">Components</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="notation.html">Notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="units.html">Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="deprecated.html">Deprecated</a></li>
<li class="toctree-l1"><a class="reference internal" href="logo.html">Logo</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="indices.html">Index</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="hoomd-hpmc-update">
<h1>hoomd.hpmc.update<a class="headerlink" href="#hoomd-hpmc-update" title="Permalink to this heading">#</a></h1>
<p class="rubric">Overview</p>
<div class="table-wrapper autosummary longtable docutils container">
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#hoomd.hpmc.update.BoxMC" title="hoomd.hpmc.update.BoxMC"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BoxMC</span></code></a></p></td>
<td><p>Apply box updates to sample isobaric and related ensembles.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hoomd.hpmc.update.Clusters" title="hoomd.hpmc.update.Clusters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Clusters</span></code></a></p></td>
<td><p>Apply geometric cluster algorithm (GCA) moves.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#hoomd.hpmc.update.MuVT" title="hoomd.hpmc.update.MuVT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MuVT</span></code></a></p></td>
<td><p>Insert and remove particles in the muVT ensemble.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hoomd.hpmc.update.QuickCompress" title="hoomd.hpmc.update.QuickCompress"><code class="xref py py-obj docutils literal notranslate"><span class="pre">QuickCompress</span></code></a></p></td>
<td><p>Quickly compress a hard particle system to a target box.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#hoomd.hpmc.update.Shape" title="hoomd.hpmc.update.Shape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Shape</span></code></a></p></td>
<td><p>Apply shape updates to the shape definitions defined in the integrator.</p></td>
</tr>
</tbody>
</table>
</div>
<p class="rubric">Details</p>
<span class="target" id="module-hoomd.hpmc.update"></span><p>HPMC updaters.</p>
<p>HPMC updaters work with the <a class="reference internal" href="module-hpmc-integrate.html#hoomd.hpmc.integrate.HPMCIntegrator" title="hoomd.hpmc.integrate.HPMCIntegrator"><code class="xref any py py-class docutils literal notranslate"><span class="pre">hpmc.integrate.HPMCIntegrator</span></code></a> to apply changes to
the system consistent with the particle shape and defined interaction energies.
The <a class="reference internal" href="#hoomd.hpmc.update.BoxMC" title="hoomd.hpmc.update.BoxMC"><code class="xref any py py-class docutils literal notranslate"><span class="pre">BoxMC</span></code></a>, <a class="reference internal" href="#hoomd.hpmc.update.Clusters" title="hoomd.hpmc.update.Clusters"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Clusters</span></code></a>, and <a class="reference internal" href="#hoomd.hpmc.update.MuVT" title="hoomd.hpmc.update.MuVT"><code class="xref any py py-class docutils literal notranslate"><span class="pre">MuVT</span></code></a> updaters apply trial moves that enable
enhanced sampling or the equilibration of different ensembles. <a class="reference internal" href="#hoomd.hpmc.update.QuickCompress" title="hoomd.hpmc.update.QuickCompress"><code class="xref any py py-class docutils literal notranslate"><span class="pre">QuickCompress</span></code></a>
helps prepare non-overlapping configurations of particles in a given box shape.</p>
<dl class="py class">
<dt class="sig sig-object py" id="hoomd.hpmc.update.BoxMC">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hoomd.hpmc.update.</span></span><span class="sig-name descname"><span class="pre">BoxMC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trigger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">betaP</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hoomd.hpmc.update.BoxMC" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="module-hoomd-operation.html#hoomd.operation.Updater" title="hoomd.operation.Updater"><code class="xref py py-class docutils literal notranslate"><span class="pre">Updater</span></code></a></p>
<p>Apply box updates to sample isobaric and related ensembles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>betaP</strong> (<a class="reference internal" href="module-hoomd-variant.html#hoomd.variant.variant_like" title="hoomd.variant.variant_like"><em>hoomd.variant.variant_like</em></a>) – <span class="math notranslate nohighlight">\(\frac{p}{k_{\mathrm{B}}T}\)</span>
<span class="math notranslate nohighlight">\([\mathrm{length}^{-2}]\)</span> in 2D or
<span class="math notranslate nohighlight">\([\mathrm{length}^{-3}]\)</span> in 3D.</p></li>
<li><p><strong>trigger</strong> (<a class="reference internal" href="module-hoomd-triggers.html#hoomd.trigger.trigger_like" title="hoomd.trigger.trigger_like"><em>hoomd.trigger.trigger_like</em></a>) – Select the timesteps to perform
box trial moves.</p></li>
</ul>
</dd>
</dl>
<p>Use <a class="reference internal" href="#hoomd.hpmc.update.BoxMC" title="hoomd.hpmc.update.BoxMC"><code class="xref any py py-class docutils literal notranslate"><span class="pre">BoxMC</span></code></a> in conjunction with an HPMC integrator to allow the simulation
box to undergo random fluctuations at constant pressure, or random
deformations at constant volume. <a class="reference internal" href="#hoomd.hpmc.update.BoxMC" title="hoomd.hpmc.update.BoxMC"><code class="xref any py py-class docutils literal notranslate"><span class="pre">BoxMC</span></code></a> supports both isotropic and
anisotropic volume change moves as well as shearing of the simulation box. A
single <a class="reference internal" href="#hoomd.hpmc.update.BoxMC" title="hoomd.hpmc.update.BoxMC"><code class="xref any py py-class docutils literal notranslate"><span class="pre">BoxMC</span></code></a> instance may apply multiple types of box moves during a
simulation run.</p>
<p class="rubric">Box move types</p>
<p>By default, no moves are applied (the <em>weight</em> values for
all move types default to 0). In a given timestep, the type of move is
selected randomly with probability:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[p = \frac{w_k}{\sum_k w_k}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(w_k\)</span> is the weight of the move type.</p>
<p>A given box move proposes a trial simulation box <span class="math notranslate nohighlight">\((L_x^t, L_y^t,
L_z^t, xy^t, xz^t, yz^t)\)</span> as a change from the current box: <span class="math notranslate nohighlight">\((L_x,
L_y, L_z, xy, xz, yz)\)</span>. The form of the change depends on the selected
move type:</p>
<ul>
<li><p><a class="reference internal" href="#hoomd.hpmc.update.BoxMC.volume" title="hoomd.hpmc.update.BoxMC.volume"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">volume</span></code></a> (<code class="docutils literal notranslate"><span class="pre">mode='standard'</span></code>): Change the volume (or area in 2D) of the
simulation box while maining fixed aspect ratios <span class="math notranslate nohighlight">\(Lx/Ly\)</span>,
<span class="math notranslate nohighlight">\(Lx/Lz\)</span>. In 3D:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}V^t &amp;= V + u \\
L_x^t &amp;= \left( \frac{Lx}{Ly} \frac{Lx}{Lz} V^t \right)^{1/3} \\
L_y^t &amp;= L_x^t \frac{Ly}{Lx} \\
L_z^t &amp;= L_x^t \frac{Lz}{Lx} \\
xy^t &amp;= xy \\
xz^t &amp;= xz \\
yz^t &amp;= yz \\\end{split}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(u\)</span> is a random value uniformly distributed in the interval
<span class="math notranslate nohighlight">\([-\delta_\mathrm{volume}, \delta_\mathrm{volume}]\)</span>.</p>
<p>In 2D:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}V^t &amp;= V + u \\
L_x^t &amp;= \left( \frac{Lx}{Ly} V^t \right)^{1/2} \\
L_y^t &amp;= L_x^t \frac{Ly}{Lx} \\
xy^t &amp;= xy \\\end{split}\]</div>
</div>
</li>
<li><p><a class="reference internal" href="#hoomd.hpmc.update.BoxMC.volume" title="hoomd.hpmc.update.BoxMC.volume"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">volume</span></code></a> (<code class="docutils literal notranslate"><span class="pre">mode='ln'</span></code>): Change the volume (or area in 2D) of the
simulation box while maining fixed aspect ratios <span class="math notranslate nohighlight">\(Lx/Ly\)</span>,
<span class="math notranslate nohighlight">\(Lx/Lz\)</span>. In 3D:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}V^t &amp;= V e^u \\
L_x^t &amp;= \left( \frac{Lx}{Ly} \frac{Lx}{Lz} V^t \right)^{1/3} \\
L_y^t &amp;= L_x^t \frac{Ly}{Lx} \\
L_z^t &amp;= L_x^t \frac{Lz}{Lx} \\
xy^t &amp;= xy \\
xz^t &amp;= xz \\
yz^t &amp;= yz \\\end{split}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(u\)</span> is a random value uniformly distributed in the interval
<span class="math notranslate nohighlight">\([-\delta_\mathrm{volume}, \delta_\mathrm{volume}]\)</span>.</p>
<p>In 2D:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}V^t &amp;= V e^u \\
L_x^t &amp;= \left( \frac{Lx}{Ly} V^t \right)^{1/2} \\
L_y^t &amp;= L_x^t \frac{Ly}{Lx} \\
xy^t &amp;= xy \\\end{split}\]</div>
</div>
</li>
<li><p><a class="reference internal" href="#hoomd.hpmc.update.BoxMC.aspect" title="hoomd.hpmc.update.BoxMC.aspect"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">aspect</span></code></a>: Change the aspect ratio of the simulation box while maintaining
a fixed volume. In 3D:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}L_k^t &amp; = \begin{cases} L_k(1 + a) &amp; u &lt; 0.5 \\
                      L_k \frac{1}{1+a}  &amp; u \ge 0.5
        \end{cases} \\
L_{m \ne k}^t &amp; = L_m \sqrt{\frac{L_k}{L_k^t}} &amp;
xy^t &amp;= xy \\
xz^t &amp;= xz \\
yz^t &amp;= yz \\\end{split}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(u\)</span> is a random value uniformly distributed in the interval
<span class="math notranslate nohighlight">\([0, 1]\)</span>, <span class="math notranslate nohighlight">\(a\)</span> is a random value uniformly distributed in the
interval <span class="math notranslate nohighlight">\([0, \delta_\mathrm{aspect}]\)</span> and <span class="math notranslate nohighlight">\(k\)</span> is randomly
chosen uniformly from the set <span class="math notranslate nohighlight">\(\{x, y, z\}\)</span>.</p>
<p>In 2D:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}L_k^t &amp; = \begin{cases} L_k(1 + a) &amp; u &lt; 0.5 \\
                      L_k \frac{1}{1+a}  &amp; u \ge 0.5
          \end{cases} \\
L_{m \ne k}^t &amp; = L_m \frac{L_k}{L_k^t} \\
xy^t &amp;= xy \\\end{split}\]</div>
</div>
</li>
<li><p><a class="reference internal" href="#hoomd.hpmc.update.BoxMC.length" title="hoomd.hpmc.update.BoxMC.length"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">length</span></code></a>: Change the box lengths:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[L_k^t =  L_k + u\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(u\)</span> is a random value uniformly distributed in the interval
<span class="math notranslate nohighlight">\([-\delta_{\mathrm{length},k}, -\delta_{\mathrm{length},k}]\)</span>,
and <span class="math notranslate nohighlight">\(k\)</span> is randomly chosen uniformly from the set
<span class="math notranslate nohighlight">\(\{a : a \in \{x, y, z\}, \delta_{\mathrm{length},a} \ne 0 \}\)</span>.</p>
</li>
<li><p><a class="reference internal" href="#hoomd.hpmc.update.BoxMC.shear" title="hoomd.hpmc.update.BoxMC.shear"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">shear</span></code></a>: Change the box shear parameters. In 3D:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}(xy^t, xz^t, yz^t) =
\begin{cases}
\left(xy + s_{xy},
      \enspace xz,
      \enspace yz \right) &amp; u &lt; \frac{1}{3} \\
\left( xy^t = xy,
      \enspace xz + s_{xz},
      \enspace yz \right) &amp; \frac{1}{3} \le u &lt; \frac{2}{3} \\
\left( xy^t = xy,
      \enspace xz,
      \enspace yz + s_{yz} \right) &amp; \frac{2}{3} \le u \le 1 \\
\end{cases} \\\end{split}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(u\)</span> is a random value uniformly distributed in the interval
<span class="math notranslate nohighlight">\([0, 1]\)</span> and <span class="math notranslate nohighlight">\(s_k\)</span> is a random value uniformly distributed in
the interval <span class="math notranslate nohighlight">\([-\delta_{\mathrm{shear},k},
\delta_{\mathrm{shear},k}]\)</span>. <a class="reference internal" href="#hoomd.hpmc.update.BoxMC" title="hoomd.hpmc.update.BoxMC"><code class="xref any py py-class docutils literal notranslate"><span class="pre">BoxMC</span></code></a> attempts and records trial moves for
shear parameters even when <span class="math notranslate nohighlight">\(\delta_{\mathrm{shear},k}=0\)</span>.</p>
<p>In 2D:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[xy^t = xy + s_{xy}\]</div>
</div>
</li>
</ul>
<p class="rubric">Acceptance</p>
<p>All particle particle positions are scaled into the trial box to form the
trial configuration <span class="math notranslate nohighlight">\(C^t\)</span>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\vec{r}_i^t = s_x \vec{a}_1^t + s_y \vec{a}_2^t +
                       s_z \vec{a}_3^t -
            \frac{\vec{a}_1^t + \vec{a}_2^t + \vec{a}_3^t}{2}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(\vec{a}_k^t\)</span> are the new box vectors determined by
<span class="math notranslate nohighlight">\((L_x^t, L_y^t, L_z^t, xy^t, xz^t, yz^t)\)</span> and the scale factors are
determined by the current particle position <span class="math notranslate nohighlight">\(\vec{r}_i\)</span> and the box
vectors <span class="math notranslate nohighlight">\(\vec{a}_k\)</span>:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\vec{r}_i = s_x \vec{a}_1 + s_y \vec{a}_2 + s_z \vec{a}_3 -
            \frac{\vec{a}_1 + \vec{a}_2 + \vec{a}_3}{2}\]</div>
</div>
<p>The trial move is accepted with the probability:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}p_\mathrm{accept} =
\begin{cases}
\exp(-(\beta \Delta H + \beta \Delta U)) &amp;
\beta \Delta H + \beta \Delta U &gt; 0 \\
1 &amp; \beta \Delta H + \beta \Delta U \le 0 \\
\end{cases}\end{split}\]</div>
</div>
<p>where <span class="math notranslate nohighlight">\(\Delta U = U^t - U\)</span> is the difference in potential energy,
<span class="math notranslate nohighlight">\(\beta \Delta H = \beta P (V^t - V) - N_\mathrm{particles} \cdot
\ln(V^t / V)\)</span> for most move types. It is <span class="math notranslate nohighlight">\(\beta P (V^t - V) -
(N_\mathrm{particles}+1) \cdot \ln(V^t / V)\)</span> for ln volume moves.</p>
<p>When the trial move is accepted, the system state is set to the the trial
configuration. When it is not accepted, the move is rejected and the state
is not modified.</p>
<p class="rubric">Mixed precision</p>
<p><a class="reference internal" href="#hoomd.hpmc.update.BoxMC" title="hoomd.hpmc.update.BoxMC"><code class="xref any py py-class docutils literal notranslate"><span class="pre">BoxMC</span></code></a> uses reduced precision floating point arithmetic when checking
for particle overlaps in the local particle reference frame.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.BoxMC.volume">
<span class="sig-name descname"><span class="pre">volume</span></span><a class="headerlink" href="#hoomd.hpmc.update.BoxMC.volume" title="Permalink to this definition">#</a></dt>
<dd><p>Parameters for isobaric volume moves that scale the box lengths
uniformly. The dictionary has the following keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">weight</span></code> (float) - Relative weight of volume box moves.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mode</span></code> (str) - <code class="docutils literal notranslate"><span class="pre">standard</span></code> proposes changes to the box volume
and <code class="docutils literal notranslate"><span class="pre">ln</span></code> proposes changes to the logarithm of the volume.
Initially starts off in ‘standard’ mode.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delta</span></code> (float) - Maximum change in <strong>V</strong> or <strong>ln(V)</strong> where V
is box area (2D) or volume (3D) <span class="math notranslate nohighlight">\(\delta_\mathrm{volume}\)</span>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.BoxMC.aspect">
<span class="sig-name descname"><span class="pre">aspect</span></span><a class="headerlink" href="#hoomd.hpmc.update.BoxMC.aspect" title="Permalink to this definition">#</a></dt>
<dd><p>Parameters for isovolume aspect ratio moves. The dictionary has the
following keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">weight</span></code> (float) - Relative weight of aspect box moves.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delta</span></code> (float) - Maximum relative change of box aspect ratio
<span class="math notranslate nohighlight">\(\delta_\mathrm{aspect} [\mathrm{dimensionless}]\)</span>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.BoxMC.length">
<span class="sig-name descname"><span class="pre">length</span></span><a class="headerlink" href="#hoomd.hpmc.update.BoxMC.length" title="Permalink to this definition">#</a></dt>
<dd><p>Parameters for isobaric box length moves that change box lengths
independently. The dictionary has the following keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">weight</span></code> (float) - Maximum change of HOOMD-blue box parameters
Lx, Ly, and Lz.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delta</span></code> (tuple[float, float, float]) - Maximum change of the
box lengths <span class="math notranslate nohighlight">\((\delta_{\mathrm{length},x},
\delta_{\mathrm{length},y}, \delta_{\mathrm{length},z})
[\mathrm{length}]\)</span>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.BoxMC.shear">
<span class="sig-name descname"><span class="pre">shear</span></span><a class="headerlink" href="#hoomd.hpmc.update.BoxMC.shear" title="Permalink to this definition">#</a></dt>
<dd><p>Parameters for isovolume box shear moves. The dictionary has the
following keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">weight</span></code> (float) - Relative weight of shear box moves.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delta</span></code> (tuple[float, float, float]) -  maximum change of the
box tilt factor <span class="math notranslate nohighlight">\((\delta_{\mathrm{shear},xy},
\delta_{\mathrm{shear},xz}, \delta_{\mathrm{shear},yz})
[\mathrm{dimensionless}]\)</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reduce</span></code> (float) - Maximum number of lattice vectors of shear
to allow before applying lattice reduction. Values less than 0.5
disable shear reduction.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.BoxMC.instance">
<span class="sig-name descname"><span class="pre">instance</span></span><a class="headerlink" href="#hoomd.hpmc.update.BoxMC.instance" title="Permalink to this definition">#</a></dt>
<dd><p>When using multiple <a class="reference internal" href="#hoomd.hpmc.update.BoxMC" title="hoomd.hpmc.update.BoxMC"><code class="xref any py py-class docutils literal notranslate"><span class="pre">BoxMC</span></code></a> updaters in a single simulation,
give each a unique value for <a class="reference internal" href="#hoomd.hpmc.update.BoxMC.instance" title="hoomd.hpmc.update.BoxMC.instance"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">instance</span></code></a> so they generate
different streams of random numbers.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hoomd.hpmc.update.BoxMC.aspect_moves">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aspect_moves</span></span><a class="headerlink" href="#hoomd.hpmc.update.BoxMC.aspect_moves" title="Permalink to this definition">#</a></dt>
<dd><p>The accepted and rejected aspect moves.</p>
<p>(0, 0) before the first call to <a class="reference internal" href="package-hoomd.html#hoomd.Simulation.run" title="hoomd.Simulation.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Simulation.run</span></code></a>.</p>
<p>(<a class="reference internal" href="module-hoomd-logging.html#hoomd.logging.Logger" title="hoomd.logging.Logger"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Loggable</span></code></a>: category=”sequence”)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hoomd.hpmc.update.BoxMC.counter">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">counter</span></span><a class="headerlink" href="#hoomd.hpmc.update.BoxMC.counter" title="Permalink to this definition">#</a></dt>
<dd><p>Trial move counters.</p>
<p>The counter object has the following attributes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">volume</span></code>: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">tuple</span></code></a> [<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">int</span></code></a>] - Number of accepted and rejected
volume and length moves.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shear</span></code>: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">tuple</span></code></a> [<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">int</span></code></a>] - Number of accepted and rejected
shear moves.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">aspect</span></code>: <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">tuple</span></code></a> [<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">int</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">int</span></code></a>] - Number of accepted and rejected
aspect moves.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The counts are reset to 0 at the start of each call to
<a class="reference internal" href="package-hoomd.html#hoomd.Simulation.run" title="hoomd.Simulation.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">hoomd.Simulation.run</span></code></a>. Before the first call to <a class="reference internal" href="package-hoomd.html#hoomd.Simulation.run" title="hoomd.Simulation.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Simulation.run</span></code></a>,
<a class="reference internal" href="#hoomd.hpmc.update.BoxMC.counter" title="hoomd.hpmc.update.BoxMC.counter"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">counter</span></code></a> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">None</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hoomd.hpmc.update.BoxMC.shear_moves">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shear_moves</span></span><a class="headerlink" href="#hoomd.hpmc.update.BoxMC.shear_moves" title="Permalink to this definition">#</a></dt>
<dd><p>The accepted and rejected shear moves.</p>
<p>(0, 0) before the first call to <a class="reference internal" href="package-hoomd.html#hoomd.Simulation.run" title="hoomd.Simulation.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Simulation.run</span></code></a>.</p>
<p>(<a class="reference internal" href="module-hoomd-logging.html#hoomd.logging.Logger" title="hoomd.logging.Logger"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Loggable</span></code></a>: category=”sequence”)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hoomd.hpmc.update.BoxMC.volume_moves">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">volume_moves</span></span><a class="headerlink" href="#hoomd.hpmc.update.BoxMC.volume_moves" title="Permalink to this definition">#</a></dt>
<dd><p>The accepted and rejected volume and length moves.</p>
<p>(0, 0) before the first call to <a class="reference internal" href="package-hoomd.html#hoomd.Simulation.run" title="hoomd.Simulation.run"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">Simulation.run</span></code></a>.</p>
<p>(<a class="reference internal" href="module-hoomd-logging.html#hoomd.logging.Logger" title="hoomd.logging.Logger"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Loggable</span></code></a>: category=”sequence”)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hoomd.hpmc.update.Clusters">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hoomd.hpmc.update.</span></span><span class="sig-name descname"><span class="pre">Clusters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pivot_move_probability</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flip_probability</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hoomd.hpmc.update.Clusters" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="module-hoomd-operation.html#hoomd.operation.Updater" title="hoomd.operation.Updater"><code class="xref py py-class docutils literal notranslate"><span class="pre">Updater</span></code></a></p>
<p>Apply geometric cluster algorithm (GCA) moves.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pivot_move_probability</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – Set the probability for attempting a
pivot move.</p></li>
<li><p><strong>flip_probability</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – Set the probability for transforming an
individual cluster.</p></li>
<li><p><strong>trigger</strong> (<a class="reference internal" href="module-hoomd-triggers.html#hoomd.trigger.trigger_like" title="hoomd.trigger.trigger_like"><em>hoomd.trigger.trigger_like</em></a>) – Select the timesteps on which to
perform cluster moves.</p></li>
</ul>
</dd>
</dl>
<p>The GCA as described in Liu and Lujten (2004),
<a class="reference external" href="http://doi.org/10.1103/PhysRevLett.92.035504">http://doi.org/10.1103/PhysRevLett.92.035504</a> is used for hard shape, patch
interactions and depletants. Implicit depletants are supported and simulated
on-the-fly, as if they were present in the actual system.</p>
<p>Supported moves include pivot moves (point reflection) and line reflections
(pi rotation around an axis).  With anisotropic particles, the pivot move
cannot be used because it would create a chiral mirror image of the
particle, and only line reflections are employed. In general, line
reflections are not rejection free because of periodic boundary conditions,
as discussed in Sinkovits et al. (2012), <a class="reference external" href="http://doi.org/10.1063/1.3694271">http://doi.org/10.1063/1.3694271</a> .
However, we restrict the line reflections to axes parallel to the box axis,
which makes those moves rejection-free for anisotropic particles, but the
algorithm is then no longer ergodic for those and needs to be combined with
local moves.</p>
<p class="rubric">Mixed precision</p>
<p><a class="reference internal" href="#hoomd.hpmc.update.Clusters" title="hoomd.hpmc.update.Clusters"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Clusters</span></code></a> uses reduced precision floating point arithmetic when checking
for particle overlaps in the local particle reference frame.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.Clusters.pivot_move_probability">
<span class="sig-name descname"><span class="pre">pivot_move_probability</span></span><a class="headerlink" href="#hoomd.hpmc.update.Clusters.pivot_move_probability" title="Permalink to this definition">#</a></dt>
<dd><p>Set the probability for attempting a
pivot move.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.Clusters.flip_probability">
<span class="sig-name descname"><span class="pre">flip_probability</span></span><a class="headerlink" href="#hoomd.hpmc.update.Clusters.flip_probability" title="Permalink to this definition">#</a></dt>
<dd><p>Set the probability for transforming an
individual cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.Clusters.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><a class="headerlink" href="#hoomd.hpmc.update.Clusters.trigger" title="Permalink to this definition">#</a></dt>
<dd><p>Select the timesteps on which to perform cluster
moves.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="module-hoomd-triggers.html#hoomd.trigger.Trigger" title="hoomd.trigger.Trigger">Trigger</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hoomd.hpmc.update.Clusters.avg_cluster_size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">avg_cluster_size</span></span><a class="headerlink" href="#hoomd.hpmc.update.Clusters.avg_cluster_size" title="Permalink to this definition">#</a></dt>
<dd><p>the typical size of clusters.</p>
<p>None when not attached.</p>
<p>(<a class="reference internal" href="module-hoomd-logging.html#hoomd.logging.Logger" title="hoomd.logging.Logger"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Loggable</span></code></a>: category=”scalar”)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hoomd.hpmc.update.MuVT">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hoomd.hpmc.update.</span></span><span class="sig-name descname"><span class="pre">MuVT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transfer_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ngibbs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_volume_rescale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume_move_probability</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trigger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hoomd.hpmc.update.MuVT" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="module-hoomd-operation.html#hoomd.operation.Updater" title="hoomd.operation.Updater"><code class="xref py py-class docutils literal notranslate"><span class="pre">Updater</span></code></a></p>
<p>Insert and remove particles in the muVT ensemble.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trigger</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – Number of timesteps between grand canonical insertions</p></li>
<li><p><strong>transfer_types</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><em>list</em></a>) – List of type names that are being transferred
from/to the reservoir or between boxes</p></li>
<li><p><strong>ngibbs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><em>int</em></a>) – The number of partitions to use in Gibbs ensemble
simulations (if == 1, perform grand canonical muVT)</p></li>
<li><p><strong>max_volume_rescale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – maximum step size in ln(V) (applies to Gibbs
ensemble)</p></li>
<li><p><strong>move_ratio</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – (if set) Set the ratio between volume and
exchange/transfer moves (applies to Gibbs ensemble)</p></li>
</ul>
</dd>
</dl>
<p>The muVT (or grand-canonical) ensemble simulates a system at constant
fugacity.</p>
<p>Gibbs ensemble simulations are also supported, where particles and volume
are swapped between two or more boxes.  Every box correspond to one MPI
partition, and can therefore run on multiple ranks. Use the
<code class="docutils literal notranslate"><span class="pre">ranks_per_partition</span></code> argument of <a class="reference internal" href="module-hoomd-communicator.html#hoomd.communicator.Communicator" title="hoomd.communicator.Communicator"><code class="xref any py py-class docutils literal notranslate"><span class="pre">hoomd.communicator.Communicator</span></code></a> to
enable partitioned simulations.</p>
<p class="rubric">Mixed precision</p>
<p><a class="reference internal" href="#hoomd.hpmc.update.MuVT" title="hoomd.hpmc.update.MuVT"><code class="xref any py py-class docutils literal notranslate"><span class="pre">MuVT</span></code></a> uses reduced precision floating point arithmetic when checking
for particle overlaps in the local particle reference frame.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Multiple Gibbs ensembles are also supported in a single parallel job,
with the <code class="docutils literal notranslate"><span class="pre">ngibbs</span></code> option to update.muvt(), where the number of
partitions can be a multiple of <code class="docutils literal notranslate"><span class="pre">ngibbs</span></code>.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.MuVT.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><a class="headerlink" href="#hoomd.hpmc.update.MuVT.trigger" title="Permalink to this definition">#</a></dt>
<dd><p>Select the timesteps on which to perform cluster moves.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.MuVT.transfer_types">
<span class="sig-name descname"><span class="pre">transfer_types</span></span><a class="headerlink" href="#hoomd.hpmc.update.MuVT.transfer_types" title="Permalink to this definition">#</a></dt>
<dd><p>List of type names that are being transferred
from/to the reservoir or between boxes</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.MuVT.max_volume_rescale">
<span class="sig-name descname"><span class="pre">max_volume_rescale</span></span><a class="headerlink" href="#hoomd.hpmc.update.MuVT.max_volume_rescale" title="Permalink to this definition">#</a></dt>
<dd><p>Maximum step size in ln(V) (applies to
Gibbs ensemble)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.MuVT.move_ratio">
<span class="sig-name descname"><span class="pre">move_ratio</span></span><a class="headerlink" href="#hoomd.hpmc.update.MuVT.move_ratio" title="Permalink to this definition">#</a></dt>
<dd><p>The ratio between volume and exchange/transfer moves
(applies to Gibbs ensemble)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.MuVT.ntrial">
<span class="sig-name descname"><span class="pre">ntrial</span></span><a class="headerlink" href="#hoomd.hpmc.update.MuVT.ntrial" title="Permalink to this definition">#</a></dt>
<dd><p>(<strong>default</strong>: 1) Number of configurational bias attempts
to swap depletants</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.MuVT.fugacity">
<span class="sig-name descname"><span class="pre">fugacity</span></span><a class="headerlink" href="#hoomd.hpmc.update.MuVT.fugacity" title="Permalink to this definition">#</a></dt>
<dd><p>Particle fugacity
<span class="math notranslate nohighlight">\([\mathrm{volume}^{-1}]\)</span> (<strong>default:</strong> 0).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="module-hoomd-data.html#hoomd.data.typeparam.TypeParameter" title="hoomd.data.typeparam.TypeParameter"><code class="xref any py py-class docutils literal notranslate"><span class="pre">TypeParameter</span></code></a> [ <code class="docutils literal notranslate"><span class="pre">particle</span> <span class="pre">type</span></code>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">float</span></code></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hoomd.hpmc.update.MuVT.N">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">N</span></span><a class="headerlink" href="#hoomd.hpmc.update.MuVT.N" title="Permalink to this definition">#</a></dt>
<dd><p>Map of number of particles per type.</p>
<p>None when not attached.</p>
<p>(<a class="reference internal" href="module-hoomd-logging.html#hoomd.logging.Logger" title="hoomd.logging.Logger"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Loggable</span></code></a>: category=”object”)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hoomd.hpmc.update.MuVT.exchange_moves">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exchange_moves</span></span><a class="headerlink" href="#hoomd.hpmc.update.MuVT.exchange_moves" title="Permalink to this definition">#</a></dt>
<dd><p>Count of the accepted and rejected paricle         exchange moves.</p>
<p>None when not attached</p>
<p>(<a class="reference internal" href="module-hoomd-logging.html#hoomd.logging.Logger" title="hoomd.logging.Logger"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Loggable</span></code></a>: category=”sequence”)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hoomd.hpmc.update.MuVT.insert_moves">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">insert_moves</span></span><a class="headerlink" href="#hoomd.hpmc.update.MuVT.insert_moves" title="Permalink to this definition">#</a></dt>
<dd><p>Count of the accepted and rejected paricle         insertion moves.</p>
<p>None when not attached</p>
<p>(<a class="reference internal" href="module-hoomd-logging.html#hoomd.logging.Logger" title="hoomd.logging.Logger"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Loggable</span></code></a>: category=”sequence”)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hoomd.hpmc.update.MuVT.remove_moves">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">remove_moves</span></span><a class="headerlink" href="#hoomd.hpmc.update.MuVT.remove_moves" title="Permalink to this definition">#</a></dt>
<dd><p>Count of the accepted and rejected paricle removal         moves.</p>
<p>None when not attached</p>
<p>(<a class="reference internal" href="module-hoomd-logging.html#hoomd.logging.Logger" title="hoomd.logging.Logger"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Loggable</span></code></a>: category=”sequence”)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hoomd.hpmc.update.MuVT.volume_moves">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">volume_moves</span></span><a class="headerlink" href="#hoomd.hpmc.update.MuVT.volume_moves" title="Permalink to this definition">#</a></dt>
<dd><p>Count of the accepted and rejected paricle volume         moves.</p>
<p>None when not attached</p>
<p>(<a class="reference internal" href="module-hoomd-logging.html#hoomd.logging.Logger" title="hoomd.logging.Logger"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Loggable</span></code></a>: category=”sequence”)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hoomd.hpmc.update.QuickCompress">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hoomd.hpmc.update.</span></span><span class="sig-name descname"><span class="pre">QuickCompress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trigger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_box</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_overlaps_per_particle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.99</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hoomd.hpmc.update.QuickCompress" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="module-hoomd-operation.html#hoomd.operation.Updater" title="hoomd.operation.Updater"><code class="xref py py-class docutils literal notranslate"><span class="pre">Updater</span></code></a></p>
<p>Quickly compress a hard particle system to a target box.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trigger</strong> (<a class="reference internal" href="module-hoomd-triggers.html#hoomd.trigger.trigger_like" title="hoomd.trigger.trigger_like"><em>hoomd.trigger.trigger_like</em></a>) – Update the box dimensions on
triggered time steps.</p></li>
<li><p><strong>target_box</strong> (<a class="reference internal" href="module-hoomd-box.html#hoomd.box.box_like" title="hoomd.box.box_like"><em>hoomd.box.box_like</em></a>) – Dimensions of the target box.</p></li>
<li><p><strong>max_overlaps_per_particle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – The maximum number of overlaps to
allow per particle (may be less than 1 - e.g.
up to 250 overlaps would be allowed when in a system of 1000
particles when max_overlaps_per_particle=0.25).</p></li>
<li><p><strong>min_scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><em>float</em></a>) – The minimum scale factor to apply to box dimensions.</p></li>
</ul>
</dd>
</dl>
<p>Use <a class="reference internal" href="#hoomd.hpmc.update.QuickCompress" title="hoomd.hpmc.update.QuickCompress"><code class="xref any py py-class docutils literal notranslate"><span class="pre">QuickCompress</span></code></a> in conjunction with an HPMC integrator to scale the
system to a target box size. <a class="reference internal" href="#hoomd.hpmc.update.QuickCompress" title="hoomd.hpmc.update.QuickCompress"><code class="xref any py py-class docutils literal notranslate"><span class="pre">QuickCompress</span></code></a> can typically compress dilute
systems to near random close packing densities in tens of thousands of time
steps.</p>
<p>It operates by making small changes toward the <a class="reference internal" href="#hoomd.hpmc.update.QuickCompress.target_box" title="hoomd.hpmc.update.QuickCompress.target_box"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">target_box</span></code></a>, but only
when there are no particle overlaps in the current simulation state. In 3D:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}L_x' &amp;= \begin{cases}
\max( L_x \cdot s, L_{\mathrm{target},x} )
&amp; L_{\mathrm{target},x} &lt; L_x \\
\min( L_x / s, L_{\mathrm{target},x} )
&amp; L_{\mathrm{target},x} \ge L_x
\end{cases} \\
L_y' &amp;= \begin{cases}
\max( L_y \cdot s, L_{\mathrm{target},y} )
&amp; L_{\mathrm{target},y} &lt; L_y \\
\min( L_y / s, L_{\mathrm{target},y} )
&amp; L_{\mathrm{target},y} \ge L_y
\end{cases} \\
L_z' &amp;= \begin{cases}
\max( L_z \cdot s, L_{\mathrm{target},z} )
&amp; L_{\mathrm{target},z} &lt; L_z \\
\min( L_z / s, L_{\mathrm{target},z} )
&amp; L_{\mathrm{target},z} \ge L_z
\end{cases} \\
xy' &amp;= \begin{cases}
\max( xy \cdot s, xy_\mathrm{target} )
&amp; xy_\mathrm{target} &lt; xy \\
\min( xy / s, xy_\mathrm{target} )
&amp; xy_\mathrm{target} \ge xy
\end{cases} \\
xz' &amp;= \begin{cases}
\max( xz \cdot s, xz_\mathrm{target} )
&amp; xz_\mathrm{target} &lt; xz \\
\min( xz / s, xz_\mathrm{target} )
&amp; xz_\mathrm{target} \ge xz
\end{cases} \\
yz' &amp;= \begin{cases}
\max( yz \cdot s, yz_\mathrm{target} )
&amp; yz_\mathrm{target} &lt; yz \\
\min( yz / s, yz_\mathrm{target} )
&amp; yz_\mathrm{target} \ge yz
\end{cases} \\\end{split}\]</div>
</div>
<p>and in 2D:</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}L_x' &amp;= \begin{cases}
\max( L_x \cdot s, L_{\mathrm{target},x} )
&amp; L_{\mathrm{target},x} &lt; L_x \\
\min( L_x / s, L_{\mathrm{target},x} )
&amp; L_{\mathrm{target},x} \ge L_x
\end{cases} \\
L_y' &amp;= \begin{cases}
\max( L_y \cdot s, L_{\mathrm{target},y} )
&amp; L_{\mathrm{target},y} &lt; L_y \\
\min( L_y / s, L_{\mathrm{target},y} )
&amp; L_{\mathrm{target},y} \ge L_y
\end{cases} \\
L_z' &amp;= L_z \\
xy' &amp;= \begin{cases}
\max( xy \cdot s, xy_\mathrm{target} )
&amp; xy_\mathrm{target} &lt; xy \\
\min( xy / s, xy_\mathrm{target} )
&amp; xy_\mathrm{target} \ge xy
\end{cases} \\
xz' &amp;= xz \\
yz' &amp;= yz \\\end{split}\]</div>
</div>
<p>where the current simulation box is <span class="math notranslate nohighlight">\((L_x, L_y, L_z, xy, xz, yz)\)</span>,
the target is <span class="math notranslate nohighlight">\((L_{\mathrm{target},x}, L_{\mathrm{target},y},
L_{\mathrm{target},z}, xy_\mathrm{target}, xz_\mathrm{target},
yz_\mathrm{target})\)</span>, the new simulation box set is
<span class="math notranslate nohighlight">\((L_x', L_y', L_z', xy', xz', yz')\)</span> and <span class="math notranslate nohighlight">\(s\)</span> is the scale factor
chosen for this step (see below). <a class="reference internal" href="#hoomd.hpmc.update.QuickCompress" title="hoomd.hpmc.update.QuickCompress"><code class="xref any py py-class docutils literal notranslate"><span class="pre">QuickCompress</span></code></a> scales particle
coordinates (see <a class="reference internal" href="#hoomd.hpmc.update.BoxMC" title="hoomd.hpmc.update.BoxMC"><code class="xref any py py-class docutils literal notranslate"><span class="pre">BoxMC</span></code></a> for details) when it sets a new box.</p>
<p>When there are more than <code class="docutils literal notranslate"><span class="pre">max_overlaps_per_particle</span> <span class="pre">*</span> <span class="pre">N_particles</span></code> hard
particle overlaps in the system in the new box, the box move is rejected.
Otherwise, the small number of overlaps remain when the new box is set.
<a class="reference internal" href="#hoomd.hpmc.update.QuickCompress" title="hoomd.hpmc.update.QuickCompress"><code class="xref any py py-class docutils literal notranslate"><span class="pre">QuickCompress</span></code></a> then waits until <a class="reference internal" href="module-hpmc-integrate.html#hoomd.hpmc.integrate.HPMCIntegrator" title="hoomd.hpmc.integrate.HPMCIntegrator"><code class="xref any py py-class docutils literal notranslate"><span class="pre">hoomd.hpmc.integrate.HPMCIntegrator</span></code></a> makes
local MC trial moves that remove all overlaps.</p>
<p><a class="reference internal" href="#hoomd.hpmc.update.QuickCompress" title="hoomd.hpmc.update.QuickCompress"><code class="xref any py py-class docutils literal notranslate"><span class="pre">QuickCompress</span></code></a> adjusts the value of <span class="math notranslate nohighlight">\(s\)</span> based on the particle and
translational trial move sizes to ensure that the trial moves will be able
to remove the overlaps. It randomly chooses a value of <span class="math notranslate nohighlight">\(s\)</span> uniformly
distributed between <code class="docutils literal notranslate"><span class="pre">max(min_scale,</span> <span class="pre">1.0</span> <span class="pre">-</span> <span class="pre">min_move_size</span> <span class="pre">/</span> <span class="pre">max_diameter)</span></code>
and 1.0 where <code class="docutils literal notranslate"><span class="pre">min_move_size</span></code> is the smallest MC translational move size
adjusted by the acceptance ratio and <code class="docutils literal notranslate"><span class="pre">max_diameter</span></code> is the circumsphere
diameter of the largest particle type.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Use the <a class="reference internal" href="module-hpmc-tune.html#hoomd.hpmc.tune.MoveSize" title="hoomd.hpmc.tune.MoveSize"><code class="xref any py py-class docutils literal notranslate"><span class="pre">hoomd.hpmc.tune.MoveSize</span></code></a> in conjunction with
<a class="reference internal" href="#hoomd.hpmc.update.QuickCompress" title="hoomd.hpmc.update.QuickCompress"><code class="xref any py py-class docutils literal notranslate"><span class="pre">QuickCompress</span></code></a> to adjust the move sizes to maintain a constant
acceptance ratio as the density of the system increases.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When the smallest MC translational move size is 0, <a class="reference internal" href="#hoomd.hpmc.update.QuickCompress" title="hoomd.hpmc.update.QuickCompress"><code class="xref any py py-class docutils literal notranslate"><span class="pre">QuickCompress</span></code></a>
will scale the box by 1.0 and not progress toward the target box.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Use <a class="reference internal" href="#hoomd.hpmc.update.QuickCompress" title="hoomd.hpmc.update.QuickCompress"><code class="xref any py py-class docutils literal notranslate"><span class="pre">QuickCompress</span></code></a> <em>OR</em> <a class="reference internal" href="#hoomd.hpmc.update.BoxMC" title="hoomd.hpmc.update.BoxMC"><code class="xref any py py-class docutils literal notranslate"><span class="pre">BoxMC</span></code></a>. Do not use both at the same time.</p>
</div>
<p class="rubric">Mixed precision</p>
<p><a class="reference internal" href="#hoomd.hpmc.update.QuickCompress" title="hoomd.hpmc.update.QuickCompress"><code class="xref any py py-class docutils literal notranslate"><span class="pre">QuickCompress</span></code></a> uses reduced precision floating point arithmetic when
checking for particle overlaps in the local particle reference frame.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.QuickCompress.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><a class="headerlink" href="#hoomd.hpmc.update.QuickCompress.trigger" title="Permalink to this definition">#</a></dt>
<dd><p>Update the box dimensions on triggered time steps.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="module-hoomd-triggers.html#hoomd.trigger.Trigger" title="hoomd.trigger.Trigger">Trigger</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.QuickCompress.target_box">
<span class="sig-name descname"><span class="pre">target_box</span></span><a class="headerlink" href="#hoomd.hpmc.update.QuickCompress.target_box" title="Permalink to this definition">#</a></dt>
<dd><p>Dimensions of the target box.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="package-hoomd.html#hoomd.Box" title="hoomd.Box">Box</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.QuickCompress.max_overlaps_per_particle">
<span class="sig-name descname"><span class="pre">max_overlaps_per_particle</span></span><a class="headerlink" href="#hoomd.hpmc.update.QuickCompress.max_overlaps_per_particle" title="Permalink to this definition">#</a></dt>
<dd><p>The maximum number of overlaps to
allow per particle (may be less than 1 - e.g.
up to 250 overlaps would be allowed when in a system of 1000
particles when max_overlaps_per_particle=0.25).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.QuickCompress.min_scale">
<span class="sig-name descname"><span class="pre">min_scale</span></span><a class="headerlink" href="#hoomd.hpmc.update.QuickCompress.min_scale" title="Permalink to this definition">#</a></dt>
<dd><p>The minimum scale factor to apply to box dimensions.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.QuickCompress.instance">
<span class="sig-name descname"><span class="pre">instance</span></span><a class="headerlink" href="#hoomd.hpmc.update.QuickCompress.instance" title="Permalink to this definition">#</a></dt>
<dd><p>When using multiple <a class="reference internal" href="#hoomd.hpmc.update.QuickCompress" title="hoomd.hpmc.update.QuickCompress"><code class="xref any py py-class docutils literal notranslate"><span class="pre">QuickCompress</span></code></a> updaters in a single simulation,
give each a unique value for <a class="reference internal" href="#hoomd.hpmc.update.QuickCompress.instance" title="hoomd.hpmc.update.QuickCompress.instance"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">instance</span></code></a> so that they generate
different streams of random numbers.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hoomd.hpmc.update.QuickCompress.complete">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">complete</span></span><a class="headerlink" href="#hoomd.hpmc.update.QuickCompress.complete" title="Permalink to this definition">#</a></dt>
<dd><p>True when the box has achieved the target.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="hoomd.hpmc.update.Shape">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">hoomd.hpmc.update.</span></span><span class="sig-name descname"><span class="pre">Shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trigger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape_move</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pretend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_select</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nsweeps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#hoomd.hpmc.update.Shape" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="module-hoomd-operation.html#hoomd.operation.Updater" title="hoomd.operation.Updater"><code class="xref py py-class docutils literal notranslate"><span class="pre">Updater</span></code></a></p>
<p>Apply shape updates to the shape definitions defined in the integrator.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref any docutils literal notranslate"><span class="pre">hoomd.hpmc.shape_move</span></code> describes the shape alchemy algorithm.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trigger</strong> (<a class="reference internal" href="module-hoomd-triggers.html#hoomd.trigger.trigger_like" title="hoomd.trigger.trigger_like"><em>hoomd.trigger.trigger_like</em></a>) – Call the updater on triggered time
steps.</p></li>
<li><p><strong>shape_move</strong> (<em>ShapeMove</em>) – Type of shape move to apply when updating shape
definitions</p></li>
<li><p><strong>pretend</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">bool</span></code></a>, optional) – When True the updater will not
actually update the shape definitions. Instead, moves will be
proposed and the acceptance statistics will be updated correctly
(<strong>default</strong>: <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">False</span></code></a>).</p></li>
<li><p><strong>type_select</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – Number of types to change every time
the updater is called (<strong>default</strong>: 1).</p></li>
<li><p><strong>nsweeps</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="xref any docutils literal notranslate"><span class="pre">int</span></code></a>, optional) – Number of times to update shape
definitions during each triggered timesteps (<strong>default</strong>: 1).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Shape support.</p>
<p>See <code class="xref any docutils literal notranslate"><span class="pre">hoomd.hpmc.shape_move</span></code> for supported shapes.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mc</span> <span class="o">=</span> <span class="n">hoomd</span><span class="o">.</span><span class="n">hpmc</span><span class="o">.</span><span class="n">integrate</span><span class="o">.</span><span class="n">ConvexPolyhedron</span><span class="p">()</span>
<span class="n">mc</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">vertices</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">asarray</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                                            <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)]))</span>
<span class="n">vertex_move</span> <span class="o">=</span> <span class="n">hoomd</span><span class="o">.</span><span class="n">hpmc</span><span class="o">.</span><span class="n">shape_move</span><span class="o">.</span><span class="n">Vertex</span><span class="p">(</span><span class="n">stepsize</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">},</span>
                                           <span class="n">param_ratio</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
                                           <span class="n">volume</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">updater</span> <span class="o">=</span> <span class="n">hoomd</span><span class="o">.</span><span class="n">hpmc</span><span class="o">.</span><span class="n">update</span><span class="o">.</span><span class="n">Shape</span><span class="p">(</span><span class="n">shape_move</span><span class="o">=</span><span class="n">vertex_move</span><span class="p">,</span>
                                  <span class="n">trigger</span><span class="o">=</span><span class="n">hoomd</span><span class="o">.</span><span class="n">trigger</span><span class="o">.</span><span class="n">Periodic</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
                                  <span class="n">type_select</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                  <span class="n">nsweeps</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.Shape.trigger">
<span class="sig-name descname"><span class="pre">trigger</span></span><a class="headerlink" href="#hoomd.hpmc.update.Shape.trigger" title="Permalink to this definition">#</a></dt>
<dd><p>Call the updater on triggered time steps.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="module-hoomd-triggers.html#hoomd.trigger.Trigger" title="hoomd.trigger.Trigger">Trigger</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.Shape.shape_move">
<span class="sig-name descname"><span class="pre">shape_move</span></span><a class="headerlink" href="#hoomd.hpmc.update.Shape.shape_move" title="Permalink to this definition">#</a></dt>
<dd><p>Type of shape move to apply when updating shape
definitions</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ShapeMove</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.Shape.pretend">
<span class="sig-name descname"><span class="pre">pretend</span></span><a class="headerlink" href="#hoomd.hpmc.update.Shape.pretend" title="Permalink to this definition">#</a></dt>
<dd><p>When True the updater will not actually update the shape
definitions, instead moves will be proposed and the acceptance
statistics will be updated correctly.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.Shape.type_select">
<span class="sig-name descname"><span class="pre">type_select</span></span><a class="headerlink" href="#hoomd.hpmc.update.Shape.type_select" title="Permalink to this definition">#</a></dt>
<dd><p>Number of types to change every time the updater is
called.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="hoomd.hpmc.update.Shape.nsweeps">
<span class="sig-name descname"><span class="pre">nsweeps</span></span><a class="headerlink" href="#hoomd.hpmc.update.Shape.nsweeps" title="Permalink to this definition">#</a></dt>
<dd><p>Number of times to update shape definitions during each
triggered timesteps.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hoomd.hpmc.update.Shape.particle_volumes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">particle_volumes</span></span><a class="headerlink" href="#hoomd.hpmc.update.Shape.particle_volumes" title="Permalink to this definition">#</a></dt>
<dd><p>Volume of a single particle for each type.</p>
<p>(<a class="reference internal" href="module-hoomd-logging.html#hoomd.logging.Logger" title="hoomd.logging.Logger"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Loggable</span></code></a>: category=”scalar”)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hoomd.hpmc.update.Shape.shape_move_energy">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape_move_energy</span></span><a class="headerlink" href="#hoomd.hpmc.update.Shape.shape_move_energy" title="Permalink to this definition">#</a></dt>
<dd><p>Energy penalty due to shape changes.</p>
<p>(<a class="reference internal" href="module-hoomd-logging.html#hoomd.logging.Logger" title="hoomd.logging.Logger"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Loggable</span></code></a>: category=”scalar”)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="hoomd.hpmc.update.Shape.shape_moves">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape_moves</span></span><a class="headerlink" href="#hoomd.hpmc.update.Shape.shape_moves" title="Permalink to this definition">#</a></dt>
<dd><p>Count of the accepted and rejected shape moves.</p>
<p>(<a class="reference internal" href="module-hoomd-logging.html#hoomd.logging.Logger" title="hoomd.logging.Logger"><code class="xref any py py-class docutils literal notranslate"><span class="pre">Loggable</span></code></a>: category=”sequence”)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)">tuple</a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)">int</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
<div class="related-pages">
<a class="next-page" href="module-hpmc-pair.html">
    <div class="page-info">
        <div class="context">
        <span>Next</span>
        </div>
        <div class="title">hoomd.hpmc.pair</div>
    </div>
    <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
    </a>
<a class="prev-page" href="module-hpmc-tune.html">
    <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
    <div class="page-info">
        <div class="context">
        <span>Previous</span>
        </div>
        
        <div class="title">hoomd.hpmc.tune</div>
        
    </div>
    </a>
</div>
<div class="bottom-of-page">
<div class="left-details">
    <p>Development of HOOMD-blue is led by the <a href="https://glotzerlab.engin.umich.edu">Glotzer Group</a> at the <a href="https://umich.edu">University of Michigan</a> (supported by NSF DMR 1808342) with many <a href="credits.html">external contributions</a>.
    </p>
    <div class="copyright">
        Copyright &#169; 2009-2023 The Regents of the University of Michigan
    </div>
    Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
    
    <a href="https://github.com/pradyunsg/furo">Furo</a>
    
</div>
<div class="right-details">
    <a class="muted-link" href="http://umich.edu">
    <img src="_static/umich-block-M.svg" alt="University of Michigan logo" style="width: 84px; float: right;" />
    </a>
</div>
</div>

      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>